<VirtualHost *:80>
    ServerName api.parldata.eu
    ErrorLog ${APACHE_LOG_DIR}/api.parldata.eu/error.log
    CustomLog ${APACHE_LOG_DIR}/api.parldata.eu/access.log combined

    WSGIScriptAlias / /home/projects/visegrad-parliament-api/wsgi.py
    WSGIDaemonProcess vpapi_80 python-path=/home/projects/.virtualenvs/vpapi/lib/python3.4/site-packages
    WSGIProcessGroup vpapi_80
    WSGIApplicationGroup %{GLOBAL}

    <Directory /home/projects/visegrad-parliament-api>
       <Files wsgi.py>
          Require method GET HEAD OPTIONS
          AllowOverride None
      </Files>
    </Directory>
</VirtualHost>

<VirtualHost *:443>
    ServerName api.parldata.eu
    ErrorLog ${APACHE_LOG_DIR}/api.parldata.eu/error.log
    CustomLog ${APACHE_LOG_DIR}/api.parldata.eu/access.log combined

    WSGIScriptAlias / /home/projects/visegrad-parliament-api/wsgi.py
    WSGIDaemonProcess vpapi_443 python-path=/home/projects/.virtualenvs/vpapi/lib/python3.4/site-packages
    WSGIProcessGroup vpapi_443
    WSGIApplicationGroup %{GLOBAL}
    WSGIPassAuthorization On

    <Directory /home/projects/visegrad-parliament-api>
       <Files wsgi.py>
          Require all granted
          AllowOverride None
      </Files>
    </Directory>

    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/apache_cert.pem
    SSLCertificateKeyFile /etc/ssl/private/apache_key.pem
</VirtualHost>
